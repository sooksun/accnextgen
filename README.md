# à¸£à¸°à¸šà¸šà¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸£à¸±à¸š-à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™

à¸£à¸°à¸šà¸š Web Application à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸‚à¸­à¸‡à¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™ à¸à¸£à¹‰à¸­à¸¡à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ AI Vision à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¹ˆà¸²à¸™à¸ªà¸¥à¸´à¸›/à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

## âœ¨ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

- âœ… à¸šà¸±à¸™à¸—à¸¶à¸à¸£à¸²à¸¢à¸£à¸±à¸š-à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢à¹à¸šà¸š Manual
- âœ… à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸¥à¸´à¸›/à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¹à¸¥à¸°à¹ƒà¸Šà¹‰ AI Vision à¸­à¹ˆà¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- âœ… à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² (Multi-Academic-Year)
- âœ… à¸£à¸­à¸‡à¸£à¸±à¸šà¸ªà¸¡à¸²à¸Šà¸´à¸à¸«à¸¥à¸²à¸¢à¸›à¸£à¸°à¹€à¸ à¸— (Admin, Finance, Teacher, Staff, Auditor)
- âœ… Dashboard à¹à¸¥à¸° Board à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- âœ… à¸Ÿà¸´à¸¥à¹€à¸•à¸­à¸£à¹Œà¸•à¸²à¸¡à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¸Šà¹ˆà¸§à¸‡à¸§à¸±à¸™à¸—à¸µà¹ˆ
- âœ… à¹à¸ªà¸”à¸‡à¸ªà¸£à¸¸à¸›à¸¢à¸­à¸”à¸£à¸§à¸¡ (à¸£à¸±à¸š, à¸ˆà¹ˆà¸²à¸¢, à¸ªà¸¸à¸—à¸˜à¸´)

## ğŸ› ï¸ Technology Stack

### Frontend
- **Next.js 16** (App Router)
- **TypeScript**
- **TailwindCSS**
- **React 18**

### Backend
- **NestJS** (Latest)
- **Prisma ORM**
- **MySQL**

### AI/ML
- **OpenAI Vision API** (à¸à¸£à¹‰à¸­à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ - à¹ƒà¸Šà¹‰ stub à¸•à¸­à¸™à¸™à¸µà¹‰)

## ğŸ“‹ à¸‚à¹‰à¸­à¸à¸³à¸«à¸™à¸”à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™

- Node.js 18+ (LTS)
- MySQL 8.0+
- npm à¸«à¸£à¸·à¸­ yarn

## ğŸš€ à¸§à¸´à¸˜à¸µà¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¸£à¸±à¸™

### 1. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies

```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸ªà¸³à¸«à¸£à¸±à¸š root (Prisma)
npm install

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸ªà¸³à¸«à¸£à¸±à¸š Backend
cd backend
npm install

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸ªà¸³à¸«à¸£à¸±à¸š Frontend
cd ../frontend
npm install
```

### 2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Database

à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™ root directory:

```env
DATABASE_URL="mysql://user:password@localhost:3306/school_finance?schema=public"
OPENAI_API_KEY="your_openai_api_key_here"
AI_VISION_MODEL="gpt-4-vision-preview"
```

**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ `user`, `password`, à¹à¸¥à¸° `localhost:3306` à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¸à¸±à¸š MySQL à¸‚à¸­à¸‡à¸„à¸¸à¸“

### 3. à¸ªà¸£à¹‰à¸²à¸‡ Database Schema

```bash
# à¸à¸¥à¸±à¸šà¹„à¸›à¸—à¸µà¹ˆ root directory
cd ..

# Generate Prisma Client
npm run prisma:generate

# à¸ªà¸£à¹‰à¸²à¸‡ migration à¹à¸¥à¸° tables
npm run prisma:migrate

# Seed demo data
npm run prisma:seed
```

### 4. à¸£à¸±à¸™ Backend

```bash
cd backend

# Development mode
npm run start:dev

# Backend à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ http://localhost:8892
```

### 5. à¸£à¸±à¸™ Frontend

à¹€à¸›à¸´à¸” terminal à¹ƒà¸«à¸¡à¹ˆ:

```bash
cd frontend

# Development mode
npm run dev

# Frontend à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ http://localhost:8891
```

### 6. à¹€à¸›à¸´à¸”à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸š

à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ `http://localhost:8891`

## ğŸ“ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ

```
accnextgen/
â”œâ”€â”€ backend/                 # NestJS Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.ts
â”‚   â”‚   â”œâ”€â”€ app.module.ts
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ academic-years/
â”‚   â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â”œâ”€â”€ transactions/
â”‚   â”‚   â”œâ”€â”€ attachments/
â”‚   â”‚   â””â”€â”€ slip-ocr/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/                # Next.js Frontend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx        # Dashboard
â”‚   â”‚   â”œâ”€â”€ transactions/   # à¸«à¸™à¹‰à¸²à¸£à¸²à¸¢à¸à¸²à¸£
â”‚   â”‚   â”œâ”€â”€ board/          # à¸«à¸™à¹‰à¸²à¸šà¸­à¸£à¹Œà¸”
â”‚   â”‚   â””â”€â”€ settings/       # à¸«à¸™à¹‰à¸²à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²
â”‚   â”œâ”€â”€ components/         # React Components
â”‚   â”œâ”€â”€ lib/                # API Client
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ prisma/                 # Prisma Schema & Seed
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ seed.ts
â”œâ”€â”€ .cursorrules           # à¸à¸•à¸´à¸à¸²à¸ªà¸³à¸«à¸£à¸±à¸š Cursor AI
â”œâ”€â”€ context.md             # à¸šà¸£à¸´à¸šà¸—à¸£à¸°à¸šà¸š
â”œâ”€â”€ plan.md                # à¹à¸œà¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²
â”œâ”€â”€ tasks.md               # à¸£à¸²à¸¢à¸à¸²à¸£à¸‡à¸²à¸™
â””â”€â”€ README.md              # à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰
```

## ğŸ”Œ API Endpoints

### Transactions
- `GET /transactions` - à¸£à¸²à¸¢à¸à¸²à¸£ Transaction (à¸£à¸­à¸‡à¸£à¸±à¸š filters à¹à¸¥à¸° pagination)
- `GET /transactions/summary` - à¸ªà¸£à¸¸à¸›à¸¢à¸­à¸”à¸£à¸§à¸¡
- `GET /transactions/board/category` - Board à¹à¸¢à¸à¸•à¸²à¸¡à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ
- `GET /transactions/board/member` - Board à¹à¸¢à¸à¸•à¸²à¸¡à¸œà¸¹à¹‰à¸šà¸±à¸™à¸—à¸¶à¸
- `POST /transactions` - à¸ªà¸£à¹‰à¸²à¸‡ Transaction (Manual)
- `POST /transactions/from-slip` - à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸ªà¸¥à¸´à¸›à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡ Transaction à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

### Users
- `GET /users` - à¸£à¸²à¸¢à¸à¸²à¸£ Users
- `GET /users/:id` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ User

### Academic Years
- `GET /academic-years` - à¸£à¸²à¸¢à¸à¸²à¸£à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²
- `GET /academic-years/active` - à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™

### Categories
- `GET /categories` - à¸£à¸²à¸¢à¸à¸²à¸£à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ
- `GET /categories?type=INCOME` - à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸£à¸²à¸¢à¸£à¸±à¸š
- `GET /categories?type=EXPENSE` - à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢

## ğŸ¤– AI Vision Integration

à¸£à¸°à¸šà¸šà¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸­à¹ˆà¸²à¸™à¸ªà¸¥à¸´à¸›/à¹ƒà¸šà¹€à¸ªà¸£à¹‡à¸ˆà¸”à¹‰à¸§à¸¢ AI Vision à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰ OpenAI GPT-4 Vision API

### à¸§à¸´à¸˜à¸µà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ (à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•)

1. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² `OPENAI_API_KEY` à¹ƒà¸™ `.env`
2. Uncomment à¹‚à¸„à¹‰à¸”à¹ƒà¸™ `backend/src/slip-ocr/slip-ocr.service.ts`
3. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ package: `npm install openai` (à¹ƒà¸™ backend)

**à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** à¸•à¸­à¸™à¸™à¸µà¹‰à¹ƒà¸Šà¹‰ stub data à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸š à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸š API à¸ˆà¸£à¸´à¸‡

## ğŸ“Š Demo Data

à¸£à¸°à¸šà¸šà¸¡à¸µ demo data à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸²à¸ `prisma/seed.ts`:

- **Users**: Admin, Finance, Teacher, Staff
- **Academic Years**: à¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸² 2567, 2568
- **Categories**: à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸£à¸²à¸¢à¸£à¸±à¸š-à¸£à¸²à¸¢à¸ˆà¹ˆà¸²à¸¢
- **Transactions**: à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸²à¸¢à¸à¸²à¸£

## ğŸ” Authentication

à¸£à¸°à¸šà¸šà¸¡à¸µà¸£à¸°à¸šà¸š Authentication à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™:

- **JWT Authentication** - Token à¸«à¸¡à¸”à¸­à¸²à¸¢à¸¸à¹ƒà¸™ 7 à¸§à¸±à¸™
- **Password Security** - Hash à¸”à¹‰à¸§à¸¢ bcrypt
- **Auto User Assignment** - à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸µà¹ˆ sign in à¸ˆà¸°à¸–à¸¹à¸à¹ƒà¸Šà¹‰à¹€à¸›à¹‡à¸™à¸œà¸¹à¹‰à¸šà¸±à¸™à¸—à¸¶à¸à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Protected Routes** - Transactions routes à¸•à¹‰à¸­à¸‡ login

### à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² JWT

à¹€à¸à¸´à¹ˆà¸¡à¹ƒà¸™ `.env`:
```env
JWT_SECRET=your-super-secret-jwt-key-change-in-production
```

### API Endpoints

- `POST /auth/login` - à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- `POST /auth/register` - à¸ªà¸¡à¸±à¸„à¸£à¸ªà¸¡à¸²à¸Šà¸´à¸
- `GET /auth/profile` - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (à¸•à¹‰à¸­à¸‡à¸¡à¸µ JWT token)

## ğŸ“ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸

- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹€à¸à¹‡à¸šà¹ƒà¸™ MySQL à¸œà¹ˆà¸²à¸™ Prisma
- à¹„à¸¡à¹ˆà¸¡à¸µ mock data à¸™à¸­à¸ database
- à¸—à¸¸à¸ Transaction à¸•à¹‰à¸­à¸‡à¸œà¸¹à¸à¸à¸±à¸šà¸›à¸µà¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²
- à¸£à¸°à¸šà¸šà¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸«à¸¥à¸²à¸¢à¸„à¸™à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™

## ğŸ› Troubleshooting

### Database Connection Error
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `DATABASE_URL` à¹ƒà¸™ `.env`
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² MySQL service à¸à¸³à¸¥à¸±à¸‡à¸—à¸³à¸‡à¸²à¸™
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š username/password à¹à¸¥à¸° database name

### Prisma Generate Error
- à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `node_modules` à¹à¸¥à¸° `package-lock.json`
- à¸£à¸±à¸™ `npm install` à¹ƒà¸«à¸¡à¹ˆ
- à¸£à¸±à¸™ `npm run prisma:generate` à¹ƒà¸«à¸¡à¹ˆ

### Port Already in Use
- Backend default: `8892`
- Frontend default: `8891`
- à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ port à¹ƒà¸™ `backend/src/main.ts` (PORT environment variable) à¸«à¸£à¸·à¸­ `frontend/package.json` (scripts)

## ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡

- [Prisma Documentation](https://www.prisma.io/docs)
- [NestJS Documentation](https://docs.nestjs.com)
- [Next.js Documentation](https://nextjs.org/docs)
- [TailwindCSS Documentation](https://tailwindcss.com/docs)

## ğŸ‘¥ à¸œà¸¹à¹‰à¸à¸±à¸’à¸™à¸²

à¸£à¸°à¸šà¸šà¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢ Cursor AI à¸•à¸²à¸¡ requirement à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”

## ğŸ“„ License

ISC

---

**Happy Coding! ğŸš€**

